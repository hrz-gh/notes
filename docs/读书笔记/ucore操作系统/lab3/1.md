#### 练习1：给未被映射的地址映射上物理页

在kern/mm/vmm.c中完成do\_pgfault()函数，给未被映射的地址映射物理页。添加的代码为：

```c
ptep = get_pte(mm->pgdir, addr, 1);
if(ptep == NULL) {
    cprintf("do_pgfault failed: get_pte error!\n");
    goto failed;
}

if(*ptep == 0) {
    if(pgdir_alloc_page(mm->pgdir, addr, perm) == NULL) {
        cprintf("do_pgfault failed: pgdir_alloc_page failed!\n");
        goto failed;
    }
}
else{

}
```

执行过程主要分为以下步骤：

1. 根据虚拟地址获得pte
2. 如果pte为空，则报错
3. 如果pte内容为0，则分配相应的物理页

**问题1.1：请描述页目录项（Pag Director Entry）和页表（Page Table Entry）中组成部分对ucore实现页替换算法的潜在用处。**

提供虚拟地址到物理地址的转换，用于判断相应的物理地址是否合法、物理页是否在内存中以及相应的访问权限

**问题1.2：如果ucore的缺页服务例程在执行过程中访问内存，出现了页访问异常，请问硬件要做哪些事情？**

硬件产生中断，再次条用缺页服务例程。