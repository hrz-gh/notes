#### 练习3：阅读代码，理解proc\_run函数和它调用的函数如何完成进程切换的.

代码的执行过程如下：

1. 首先判断需要切换的进程是否为当前进程
2. 关中断
3. 设置current为需要运行的进程
4. 切换栈
5. 设置CR3寄存器
6. 保存恢复通用寄存器
7. 开中断

**问题3.1：在本实验的执行过程中，创建且运行了几个内核线程？**

两个。第一个为idle线程，第二个为init线程

**问题3.2：语句local\_intr\_save(intr\_flag);....local\_intr\_restore(intr\_flag);在这里有何作用?请说明理由**

用于关中断和开中断。使在切换进程的过程中不被中断打断。